<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital@0;1&display=swap" rel="stylesheet">
<meta charset="UTF-8">
<title>For My Wifey üåπ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  min-height: 100vh;
  background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
  font-family: Arial, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* ROOT */
#app{
  width:100%;
  text-align:center;
}

/* COMMON CARD */
.card{
  background:linear-gradient(135deg, #356A60 0%, #fecfef 100%);
  padding:36px 28px;
  border-radius:26px;
  max-width:360px;
  margin:auto;
  box-shadow:
  0 25px 50px rgba(0,0,0,0.25),
  0 0 60px rgba(255,182,217,0.35);
  animation:fadeUp 1.4s ease forwards;
}

@keyframes fadeUp{
  from{opacity:0;transform:translateY(30px);}
  to{opacity:1;transform:translateY(0);}
}

/* HEADINGS */
h1,h2{
  font-family:'Great Vibes',cursive;
  color:#b03060;
}
h1{font-size:46px;}
h2{font-size:38px;}

p{
  font-size:16px;
  color:#444;
  line-height:1.6;
}

/* BUTTON */
.button{
  margin-top:18px;
  padding:12px 28px;
  border-radius:999px;
  border:none;
  background:#ff6fae;
  color:#fff;
  font-size:15px;
  cursor:pointer;
  box-shadow:0 6px 16px rgba(255,111,174,.4);
  transition:.2s;
}
.button:hover{transform:scale(1.05);}

/* üå∏ GIFTS GRID */
.gifts{
  display:flex;
  flex-direction:column;
  gap:16px;
  margin-top:24px;
}

.gift{
  padding:18px;
  border-radius:22px;
  cursor:pointer;
  font-size:18px;
  font-weight:600;
  box-shadow:0 10px 25px rgba(0,0,0,.2);
  transition:.25s;
}

.gift:hover{
  transform:scale(1.03);
}

/* COLORS */
.gift.feelings{background:linear-gradient(#ffb6d9,#ffd6e8);}
.gift.moments{background:linear-gradient(#ffd1a6,#fff0d9);}
.gift.future{background:linear-gradient(#d8ccff,#efeaff);}

.feeling-heart{
  position:fixed;
  font-size:14px;
  opacity: 0.35;
  animation:floatFeel 6s linear forwards;
  pointer-events:none;
  z-index:1;
}

@keyframes floatFeel{
  from{
    transform:translateY(0);
    opacity:0.6;
  }
  to{
    transform:translateY(-120px);
    opacity:0;
  }
}

.rose-petal {
  position: fixed;
  top: -30px;
  font-size: 18px;
  opacity: 0.7;
  animation: petalFall linear forwards;
  pointer-events: none;
  z-index: 1;
}

@keyframes petalFall {
  0% {
    transform: translateX(0) rotate(0deg);
    opacity: 0.8;
  }
  100% {
    transform: translateX(var(--drift)) translateY(110vh) rotate(360deg);
    opacity: 0;
  }
}

.touch-glow {
  animation: glowTap 0.6s ease;
}

@keyframes glowTap {
  0% {
    box-shadow: 0 0 0 rgba(255,111,174,0);
  }
  50% {
    box-shadow: 0 0 30px rgba(255,111,174,.45);
  }
  100% {
    box-shadow: 0 0 0 rgba(255,111,174,0);
  }
}

.moment {
  margin: 14px 0;
  padding: 14px 18px;
  border-radius: 18px;
  background: rgba(255,255,255,0.55);
  box-shadow: 0 8px 20px rgba(255,111,174,0.18);
  cursor: pointer;
  opacity: 0;
  transform: scale(0.96);
  transition: all 0.5s ease;
  position: relative;
}

.moment.show {
  opacity: 1;
  transform: scale(1);
}

.moment:active {
  transform: scale(0.97);
}

.moment-text {
  font-family: 'Playfair Display', serif;
  font-size: 18px;
  color: #5a2d3a;
}

/* üíó tiny heart pop */
.tap-heart {
  position: absolute;
  font-size: 14px;
  animation: heartPop 1.4s ease forwards;
  pointer-events: none;
}

@keyframes heartPop {
  0% {
    transform: scale(0.6);
    opacity: 0;
  }
  30% {
    opacity: 1;
    transform: scale(1.2);
  }
  100% {
    transform: translateY(-20px) scale(0.8);
    opacity: 0;
  }
}

/* üåô GIFT 3 ‚Äì FUTURE */

.future-card {
  background: background:linear-gradient(135deg, #356A60 0%, #fecfef 100%);;
  backdrop-filter: blur(12px);
  border-radius: 26px;
  padding: 38px 28px;
  box-shadow:
    0 30px 60px rgba(0,0,0,0.6),
    inset 0 0 40px rgba(255,180,200,0.05);
  max-width: 360px;
  margin: auto;
  text-align: center;
  animation: fadeUp 1.4s ease forwards;
}

.future-text {
  font-family: 'Playfair Display', serif;
  font-size: 18px;
  line-height: 1.8;
  color: #4b2e2e;
  min-height: 120px;
  cursor: pointer;
}

.tap-hint {
  font-size: 13px;
  opacity: 0.35;
  margin-top: 14px;
}

.future-glow {
  display: inline-block;
  color: #b03060;
  text-shadow: 0 0 12px rgba(255,182,217,0.9);
}

.eternity-btn {
  margin-top: 28px;
  padding: 14px 34px;
  border-radius: 999px;
  border: none;
  background: #ff6fae;
  color: #fff;
  font-size: 16px;
  cursor: pointer;
  box-shadow: 0 8px 20px rgba(255,111,174,.45);
  animation: softPulse 2.4s infinite;
}

@keyframes softPulse {
  50% { transform: scale(1.04); }
}

/* üå∏ Soft text transition for Future gift */
.future-text {
  transition: opacity 0.35s ease, transform 0.35s ease;
}

.future-text.fade-out {
  opacity: 0;
  transform: translateY(6px);
}

.future-text.fade-in {
  opacity: 1;
  transform: translateY(0);
}

.tap-line {
  cursor: pointer;
  transition: 
    transform 0.6s ease,
    opacity 0.6s ease;
}

.tap-line.soft-hide {
  transform: translateY(-12px) scale(0.97);
  opacity: 0;
}

</style>
</head>

<body>

<div id="app"></div>

<script>
let lastTouchTime = 0;

const Animations = {
  petals: null,
  hearts: null,
};
const app = document.getElementById("app");

/* üåπ INTRO PAGE */
showIntro();

function showIntro(){
  app.innerHTML = `
    <div class="card">
      <h1>Happy Rose Day üåπ</h1>
      <p>
        Some roses are given by hand,<br>
        some are given by heart üíñ
      </p>
      <button class="button" onclick="showGifts()">Start</button>
    </div>
  `;
}

/* üéÅ GIFTS HUB */
function showGifts(){
  app.innerHTML = `
    <div class="card">
      <h2>For You üíù</h2>
      <p>Each gift holds something special‚Ä¶</p>

      <div class="gifts">
        <div class="gift feelings" onclick="openGift(1)">
          üåπ Feelings
        </div>

        <div class="gift moments" onclick="openGift(2)">
          üì∏ Moments
        </div>

        <div class="gift future" onclick="showFutureGift()">
          ‚ú® Future
        </div>
      </div>
    </div>
  `;
}

/* PLACEHOLDER ‚Äî WILL ADD LATER */
function openGift(n){
  softVibrate(40); 
  if(n === 1){
    showFeelingsGift();
  }
  if(n === 2){
    showMomentsGift();   // üå∏ GIFT 2
  }
}

function showFeelingsGift(){
  app.innerHTML = `
    <div class="card" style="background:linear-gradient(#ffe6f0,#fff7fb);">
      <h2>My Feelings üåπ</h2>

      <p style="
        font-family:'Playfair Display', serif;
        font-size:18px;
        line-height:1.8;
        color:#5a2d3a;
      ">
        I don‚Äôt know when it started‚Ä¶<br>
        but somehow, you became my comfort üíó<br><br>

        Your presence makes things softer,<br>
        quieter,<br>
        warmer.<br><br>

        This rose isn‚Äôt just a flower‚Äî<br>
        it‚Äôs a feeling I carry for you üå∏
      </p>

      <button class="button" onclick="stopRosePetals(); showGifts()">
        ‚Üê Back
      </button>
    </div>
  `;
  petalBurst();

  startFeelingHearts();
  startRosePetals();
  

  // üå∏ PREMIUM TOUCH RESPONSE
  const card = document.querySelector(".card");
card.addEventListener("click", () => {
  softVibrate(20);
});
  card.onclick = () => {
    const now = Date.now();

    // ‚è≥ rate-limit (1 response every 2 seconds)
    if (now - lastTouchTime < 2000) return;
    lastTouchTime = now;

    const petal = document.createElement("div");
    petal.className = "rose-petal";
    petal.innerHTML = "üåπ";

    petal.style.left = "50vw";
    petal.style.setProperty("--drift", "0px");
    petal.style.animationDuration = "4s";

    document.body.appendChild(petal);
    setTimeout(() => petal.remove(), 5000);
  };
}

function showMomentsGift(){
  stopRosePetals(); // safety: stops gift-1 petals if still running

  app.innerHTML = `
    <div class="card" style="background:linear-gradient(#fff0f6,#fff9fc);">
      <h2>Our Little Beginning üå∑</h2>

      <p style="
        font-family:'Playfair Display', serif;
        font-size:17px;
        line-height:1.7;
        color:#5a2d3a;
        margin-bottom:18px;
      ">
        We don‚Äôt have memories yet‚Ä¶<br>
        but we have moments starting üå∏
      </p>

      <div class="moment" onclick="revealMoment(this)">
        <span class="moment-text">
          The first time you made me smile without trying.
        </span>
      </div>

      <div class="moment" onclick="revealMoment(this)">
        <span class="moment-text">
          The way silence feels softer with you.
        </span>
      </div>

      <div class="moment" onclick="revealMoment(this)">
        <span class="moment-text">
          How something new already feels safe.
        </span>
      </div>

      <button class="button" onclick="showGifts()" style="margin-top:22px;">
        ‚Üê Back
      </button>
    </div>
  `;

  // ‚ú® shy-cute reveal timing
  const moments = document.querySelectorAll(".moment");
  moments.forEach((m, i) => {
    setTimeout(() => {
      m.classList.add("show");
    }, i * 700);
  });
}
function revealMoment(el){
  el.classList.add("revealed");
}

function showFutureGift() {
  stopRosePetals(); // safety if gift 1 was active

  const lines = [
    "I don‚Äôt know where this will take us‚Ä¶",
    "But I know I want to walk forward with you.",
    "Not fast.<br>Not perfect.<br>Just honestly.",
    "If you‚Äôre there‚Ä¶<br><span class='future-glow'>with you</span> ‚Äî I‚Äôm okay with whatever comes."
  ];

  let step = 0;

  app.innerHTML = `
    <div class="card future-card">
      <div id="futureText" class="future-text">
        ${lines[0]}
      </div>
      <div id="tapHint" class="tap-hint">
        tap to continue‚Ä¶
      </div>
    </div>
  `;

  const textBox = document.getElementById("futureText");
  const hint = document.getElementById("tapHint");

 textBox.onclick = () => {
  step++;

  if (step < lines.length) {
    // fade out
    textBox.classList.add("fade-out");

    setTimeout(() => {
      // change text
      textBox.innerHTML = lines[step];

      // fade in
      textBox.classList.remove("fade-out");
      textBox.classList.add("fade-in");

      setTimeout(() => {
        textBox.classList.remove("fade-in");
      }, 350);
    }, 300);
  }

  if (step === lines.length - 1) {
    hint.remove();

    setTimeout(() => {
      textBox.insertAdjacentHTML(
        "afterend",
        `
        <button class="eternity-btn" onclick="closeFutureGift()">
          You're stuck with me for eternity üíï
        </button>
        `
      );
    }, 600);
  }
};
}
function closeFutureGift() {
  app.innerHTML = `
    <div class="card">
      <h2>üíñ</h2>
      <p>
        Not an ending‚Ä¶<br>
        just something we‚Äôll remember.
      </p>
    </div>
  `;
}


function startFeelingHearts() {
  stopFeelingHearts();

  Animations.hearts = setInterval(() => {
    const h = document.createElement("div");
    h.className = "feeling-heart";
    h.innerHTML = "üíó";
    h.style.left = Math.random() * 90 + "vw";
    h.style.bottom = "20px";

    document.body.appendChild(h);
    setTimeout(() => h.remove(), 6000);
  }, 700);
}

function stopFeelingHearts() {
  if (Animations.hearts) {
    clearInterval(Animations.hearts);
    Animations.hearts = null;
  }
}
function stopAllAnimations() {
  stopRosePetals();
  stopFeelingHearts();
}

let petalInterval;

function startRosePetals() {
  stopRosePetals(); // üîí prevents duplicates

  Animations.petals = setInterval(() => {
    const petal = document.createElement("div");
    petal.className = "rose-petal";
    petal.innerHTML = "üåπ";

    petal.style.left = Math.random() * 100 + "vw";
    petal.style.animationDuration = (6 + Math.random() * 4) + "s";
    petal.style.setProperty("--drift", (Math.random() * 80 - 40) + "px");

    document.body.appendChild(petal);
    setTimeout(() => petal.remove(), 10000);
  }, 600);
}

function stopRosePetals() {
  if (Animations.petals) {
    clearInterval(Animations.petals);
    Animations.petals = null;
  }
}

function backFromFeelings() {
  stopAllAnimations();
  stopRosePetals();        // üõë STOP petals
  showGifts();             // ‚¨Ö go back to gifts hub
}

function petalBurst(count = 8){
  for(let i=0;i<count;i++){
    const p = document.createElement("div");
    p.className = "rose-petal";
    p.innerHTML = "üåπ";
    p.style.left = "50vw";
    p.style.setProperty("--drift",(Math.random()*120-60)+"px");
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),8000);
  }
}

function softVibrate(duration = 30) {
  if (navigator.vibrate) {
    navigator.vibrate(duration);
  }
}

function revealMoment(el) {
  if (el.classList.contains("touched")) return;
  el.classList.add("touched");

  const heart = document.createElement("div");
  heart.className = "tap-heart";
  heart.innerHTML = "üíó";
  heart.style.left = Math.random()*80 + "%";
  heart.style.top = "50%";
  el.appendChild(heart);

  setTimeout(()=>heart.remove(),1400);
}

</script>

</body>
</html>
